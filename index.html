<hr />
<p style="font-size: 28px;">
	<strong>Jgraph Sudoku</strong>
</p>

<hr />

<p style="font-size: 16px;">
	<ul>
	<li>Tanner Fry</li>
	<li>CS 594 - Lab 3</li>
	<li>Directory: <strong>/home/tfry2/cs594/lab3/</strong></li>
	<li>Date: 10/30/2020</li>
	</ul>
</p>

<hr />

<p style="font-size: 16px;">&nbsp;&nbsp;&nbsp;&nbsp; For lab 3, the project that I implemented for using jgraph is a sudoku puzzle generator and solver. The source code is written in C++, 
and generates jgraph sudoku puzzles based on the input arguments. If the user wants to create a puzzle, the output is a randomly generated jgraph file that represents 
a sudoku board with random numbers in random locations. The boards that are created will always be solvable. If the user wants to solve a sudoku puzzle, the program 
expects a jgraph file that represents the puzzle, and will then create another jgraph puzzle that contains the original puzzle board, plus all the empty squares 
filled in to showcase the solution. In the following sections, I will describe in more detail the usage of the program, the use of jgraph, and the implementation 
of the C++ source code.</p>

<hr />

<p style="font-size: 28px;">
	<strong>Usage</strong>
</p>

<hr />

<p style="font-size: 16px;"> &nbsp;&nbsp;&nbsp;&nbsp; As mentioned above, my program has two use cases: randomly generating sudoku puzzles, and solving sudoku puzzles. For creating puzzles there are two arguments 
needed: the keyword "CREATE", and the output filename. The output filename must be a jgraph file or the program will exit with an error. Below is an example of 
running the program to create a puzzle as well as what the puzzle looks like after converting the jgraph file to JPG. 
</p>
Ex: 
<br />
<strong>./sudoku CREATE test.jgr</strong> 
<br /> 
<strong>./jgraph test.jgr | convert -density 300 -quality 100 - test.jpg</strong>
<br />

<center><img src="http://web.eecs.utk.edu/~tfry2/test.jpg" style="width:500px;height:500px;" class="centerImage"></img></center>

<br />

<p style="font-size: 16px;">&nbsp;&nbsp;&nbsp;&nbsp; For solving puzzles the program expects two arguments: the keyword "SOLVE", and the file path to the jgraph file you want to be solved. The input file has to be
a jgraph file, and has to follow the format that the pogram uses for generating sudoku puzzles. For this reason, it is recommended to only provide puzzles that
are generated by the program for solving because a specific format is expected when parsing the jgraph files. The program will use the input filename for the output jgraph
filename with "_solution" attached at the end of the filename before the ".jgr" tag. Below is an example of running the program to 
solve the provided sudoku puzzle. </p>

Ex: 
<br />
<strong>./sudoku SOLVE test.jgr</strong> 
<br /> 
<strong>./jgraph test_solution.jgr | convert -density 300 -quality 100 - test_solution.jpg</strong>
<br />

<center><img src="http://web.eecs.utk.edu/~tfry2/test_solution.jpg" style="width:500px;height:500px;" class="centerImage"></img></center>

<br />

<hr />
<p style="font-size: 28px;"><strong>Makefile</strong></p>
<hr />

<p style="font-size: 16px;">&nbsp;&nbsp;&nbsp;&nbsp; The makefile provided for this project serves two functions: compiling the sudoku source code to generate the sudoku executable, and running the run.sh script to generate 5 puzzles and
the solutions to those generated puzzles. To compile the source code, run <strong>make</strong>. To compile and run the run.sh script run <strong>make run</strong>.
The run.sh will create a <strong>puzzles</strong> directory if there isn't one already created, then it will run the sudoku executable to generate 5 puzzles in jgraph format. Then the 5 jgraph files that get created 
will be converted to JPG files. Then the sudoku executable will be ran to generate the solutions to those 5 randomly generated puzzles, this will produce 5 jgraph solution files. Then the script will convert these 
jgraph solution files to JPG files. Below is the source code for both the makefile and the run.sh script.</p>


<div id='page' style="font-size: 16px;">
  
  <p> <strong>Sudoku Makefile</strong> </p>
  <p style='border:2px black solid; padding: 1em; width:fit-content; width:-webkit-fit-content; width:-moz-fit-content;'>
	sudoku: sudoku.o <br>
		&nbsp;&nbsp;&nbsp;&nbsp; g++ -std=c++11 -o sudoku sudoku.o <br>
	sudoku.o: sudoku.cpp <br>
		&nbsp;&nbsp;&nbsp;&nbsp; g++ -std=c++11 -c sudoku.cpp <br>
	run: <br>
		&nbsp;&nbsp;&nbsp;&nbsp; bash run.sh <br>
  </p>
  <p> <strong>run.sh</strong> </p>
  <p style='border:2px black solid; padding: 1em; width:fit-content; width:-webkit-fit-content; width:-moz-fit-content;'>
	#create puzzles folder <br>
	if [ -d "puzzles" ] <br>
	then <br>
	&nbsp;&nbsp;&nbsp;&nbsp;	: <br>
	else <br>
	&nbsp;&nbsp;&nbsp;&nbsp;	mkdir -p "puzzles"; <br>
	fi <br>

	#generate 5 puzzles <br>
	echo "Generating 5 Puzzles" <br>
	for i in 1 2 3 4 5 <br>
	do <br>
	&nbsp;&nbsp;&nbsp;&nbsp;	echo "sudoku_puzzle_${i}.jgr" <br>
	&nbsp;&nbsp;&nbsp;&nbsp;	./sudoku CREATE "puzzles/sudoku_puzzle_${i}.jgr" <br>
	&nbsp;&nbsp;&nbsp;&nbsp;	./jgraph "puzzles/sudoku_puzzle_${i}.jgr" | convert -density 300 -quality 100  - "puzzles/sudoku_puzzle_${i}.jpg" <br>
	done <br>

	#generate 5 solutions to puzzles <br>
	echo "Generating Solutions" <br>
	for i in 1 2 3 4 5 <br>
	do <br>
	&nbsp;&nbsp;&nbsp;&nbsp;	echo "sudoku_puzzle_${i}_solution.jgr" <br>
	&nbsp;&nbsp;&nbsp;&nbsp;	./sudoku SOLVE "puzzles/sudoku_puzzle_${i}.jgr" <br>
	&nbsp;&nbsp;&nbsp;&nbsp;	./jgraph "puzzles/sudoku_puzzle_${i}_solution.jgr" | convert -density 300 -quality 100  - "puzzles/sudoku_puzzle_${i}_solution.jpg" <br>
	done <br>
  </p>
  
</div>




<hr />
<p style="font-size: 28px;"><strong>Jgraph</strong></p>
<hr />
<p style="font-size: 16px;">For representing a sudoku board in jgraph, the following is used to generate the grid space:
<p style='border:2px black solid; padding: 1em; width:fit-content; width:-webkit-fit-content; width:-moz-fit-content;'>
(* sample graph *) <br>
newgraph<br>
(* axis *)<br>
xaxis min -1 max 11 no_draw_axis<br>
no_grid_lines no_draw_hash_marks no_auto_hash_labels grid_gray<br>
yaxis min -1 max 11 no_draw_axis<br>
no_grid_lines no_draw_hash_marks no_auto_hash_labels grid_gray<br>
(* grey lines *)<br>
(* horizontal *)<br>
newline pts 0 1 9 1 color 0.55 0.55 0.55<br>
newline pts 0 2 9 2 color 0.55 0.55 0.55<br>
newline pts 0 4 9 4 color 0.55 0.55 0.55<br>
newline pts 0 5 9 5 color 0.55 0.55 0.55<br>
newline pts 0 7 9 7 color 0.55 0.55 0.55<br>
newline pts 0 8 9 8 color 0.55 0.55 0.55<br>
(* vertical *)<br>
newline pts 1 0 1 9 color 0.55 0.55 0.55<br>
newline pts 2 0 2 9 color 0.55 0.55 0.55<br>
newline pts 4 0 4 9 color 0.55 0.55 0.55<br>
newline pts 5 0 5 9 color 0.55 0.55 0.55<br>
newline pts 7 0 7 9 color 0.55 0.55 0.55<br>
newline pts 8 0 8 9 color 0.55 0.55 0.55<br>
(* dark lines *)<br>
newline pts 0 3 9 3 color 0 0 0<br>
newline pts 0 6 9 6 color 0 0 0<br>
newline pts 3 0 3 9 color 0 0 0<br>
newline pts 6 0 6 9 color 0 0 0<br>
(* outer square *)<br>
newline pts 0 0 0 9<br>
newline pts 0 0 9 0<br>
newline pts 9 9 0 9<br>
newline pts 9 9 9 0<br>
<img src="http://web.eecs.utk.edu/~tfry2/empty_sudoku_grid.jpg" style="width:500px;height:500px;" class="centerImage"></img>
</p>

For inserting numbers into the grid, the following commands are used:
<p style='border:2px black solid; padding: 1em; width:fit-content; width:-webkit-fit-content; width:-moz-fit-content;'>
newstring hjc vjc x 0.500000 y 8.500000 : 6 <br>
newstring hjc vjc x 5.500000 y 7.500000 : 7<br>
newstring hjc vjc x 5.500000 y 6.500000 : 4<br>
newstring hjc vjc x 6.500000 y 5.500000 : 7<br>
newstring hjc vjc x 4.500000 y 4.500000 : 6<br>
newstring hjc vjc x 1.500000 y 3.500000 : 5<br>
newstring hjc vjc x 0.500000 y 2.500000 : 5<br>
newstring hjc vjc x 7.500000 y 1.500000 : 4<br>
newstring hjc vjc x 6.500000 y 0.500000 : 3<br>
<img src="http://web.eecs.utk.edu/~tfry2/test.jpg" style="width:500px;height:500px;" class="centerImage"></img>

</p>

</p>
<hr />
<p style="font-size: 28px;"><strong>C++ Implementation</strong></p>
<hr />

<p style="font-size: 16px;">
Functions:
<p style='border:2px black solid; padding: 1em; width:fit-content; width:-webkit-fit-content; width:-moz-fit-content;'>
vector&lt;vector&lt;int&gt; &gt; <strong>create_grid</strong>()
<br>
<br>
void <strong>print_grid</strong>(vector&lt;vector&lt;int&gt; &gt; &grid)	
<br>
<br>
void <strong>write_sudoku_table</strong>(vector&lt;vector&lt;int&gt; &gt; &grid, ofstream &f)
<br>
<br>
vector&lt;vector&lt;int&gt; &gt; <strong>read_sudoku_table</strong>(ifstream &f)
<br>
<br>
int <strong>check_position</strong>(vector&lt;vector&lt;int&gt; &gt; &grid, int &row, int &col, int &val)
<br>
<br>
bool <strong>solve_grid</strong>(vector&lt;vector&lt;int&gt; &gt; &grid)
<br>
<br>
bool <strong>grid_solvable</strong>(vector&lt;vector&lt;int&gt; &gt; grid)
<br>
<br>	
vector&lt;vector&lt;int&gt; &gt; <strong>create_random_puzzle</strong>()
<br>
<br>
void <strong>print_usage</strong>()
</p>

Function Definitions:
<br>
<ul>
<li><strong>create_grid()</strong> : function for creating an empty 9x9 vector with each position set to 0.</li>
<li><strong>read_sudoku_table()</strong> : function for parsing input jgraph files to create a 9x9 grid vector.</li>
<li><strong>write_sudoku_table()</strong> : function for writing out jgraph files from a 9x9 grid vector.</li>
<li><strong>solve_grid()</strong> : function for solving sudoku grids. This function uses recursive backtracking to solve sudoku puzzles, and will update the provided grid object based on the first solution found.</li>
<li><strong>grid_solvable()</strong> : function for checking if a grid is solvable. This function uses recursive backtracking to solve the puzzle, but the grid object is not passed by reference; therfore, the caller will not have an edited grid object and only uses the returned bool to determine if the grid is solvable.</li>
<li><strong>create_random_puzzle()</strong> : function for generating random sudoku puzzles. This function will always produce a valid sudoku puzzle because a value is only placed in the sudoku grid if is valid and if the sudoku puzzle is solvable after the value is placed in it.</li>
<li><strong>check_position()</strong> : function for checking if a value is valid in a sepific position in the sudoku grid.</li>
<li><strong>print_grid()</strong> : helper function for printing out the 9x9 grid vector.</li>
<li><strong>print_usage()</strong> : helper function for printing out the correct usage for running the sudoku executable.</li>
</ul>
</p>
<p> More information is provided in the comments of the source code. </p>
<hr />
